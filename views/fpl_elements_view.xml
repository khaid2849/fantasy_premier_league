<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="fpl_elements_view_tree" model="ir.ui.view">
        <field name="name">fpl.elements.tree</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <list create="0" edit="0" delete="0" default_order="total_points desc">
                <field name="photo" widget="image" options="{'size': [40, 40]}" string=""/>
                <field name="web_name" string="Player"/>
                <field name="first_name" optional="hide"/>
                <field name="second_name" optional="hide"/>
                <field name="element_type_id" string="Position"/>
                <field name="fpl_team_id" string="Team"/>
                <field name="now_cost" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                <field name="total_points"/>
                <field name="event_points" optional="show"/>
                <field name="points_per_game" optional="show"/>
                <field name="form" optional="show"/>
                <field name="selected_by_percent" optional="show" string="Selected By Percent (%)"/>
                <field name="squad_number" optional="hide"/>
                <field name="minutes" optional="hide"/>
                <field name="goals_scored" optional="hide"/>
                <field name="assists" optional="hide"/>
                <field name="clean_sheets" optional="hide"/>
                <field name="yellow_cards" optional="hide"/>
                <field name="red_cards" optional="hide"/>
                <field name="can_select" optional="hide"/>
                <field name="can_transact" optional="hide"/>
                <field name="status" optional="show" widget="badge" decoration-success="status == 'a'" decoration-muted="status == 'd'" decoration-warning="status == 'i'" decoration-info="status == 's'" decoration-danger="status == 'n'"/>
                <field name="currency_id" column_invisible="1"/>
            </list>
        </field>
    </record>

    <record id="fpl_elements_view_kanban" model="ir.ui.view">
        <field name="name">fpl.elements.kanban</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <kanban default_order="total_points desc" create="0" edit="0" delete="0">
                <field name="photo"/>
                <field name="web_name"/>
                <field name="first_name"/>
                <field name="second_name"/>
                <field name="element_type_id" string="Position"/>
                <field name="fpl_team_id" string="Team"/>
                <field name="now_cost"/>
                <field name="total_points"/>
                <field name="event_points"/>
                <field name="form"/>
                <field name="selected_by_percent"/>
                <field name="status"/>
                <field name="squad_number"/>
                <templates>
                    <t t-name="card" class="flex-row">
                        <aside class="o_kanban_aside_full">
                            <field name="photo" widget="background_image" options="{'zoom': true, 'zoom_delay': 1000, 'preview_image':'photo'}" class="d-block position-relative"/>
                        </aside>
                        <main class="ms-2">
                            <div class="d-flex align-items-center">
                                <field class="fw-bold fs-5 me-2" name="web_name"/>
                                <span class="badge bg-primary">#
                                    <field name="squad_number"/>
                                </span>
                            </div>
                            <div class="text-muted">
                                <field name="first_name"/>
                                <span>&amp;nbsp;</span>
                                <field name="second_name"/>
                            </div>
                            <div class="d-flex mt-2">
                                <span class="badge bg-secondary me-2">
                                    <field name="element_type_id"/>
                                </span>
                                <span class="badge bg-info">
                                    <field name="fpl_team_id"/>
                                </span>
                            </div>
                            <div class="row mt-2">
                                <div class="col-6">
                                    <small class="text-muted">Cost</small>
                                    <div class="fw-bold">£
                                        <field name="now_cost"/>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <small class="text-muted">Total Pts</small>
                                    <div class="fw-bold">
                                        <field name="total_points"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <small class="text-muted">Form</small>
                                    <div>
                                        <field name="form"/>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <small class="text-muted">Selected</small>
                                    <div>
                                        <field name="selected_by_percent"/>
%
                                    </div>
                                </div>
                            </div>
                            <div class="mt-2">
                                <field name="status" widget="badge" decoration-success="status == 'a'" decoration-muted="status == 'd'" decoration-warning="status == 'i'" decoration-info="status == 's'" decoration-danger="status == 'n'"/>
                            </div>
                        </main>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="fpl_elements_view_form" model="ir.ui.view">
        <field name="name">fpl.elements.form</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <form delete="0" create="0" edit="0">
                <header>
                    <field name="status" widget="statusbar" statusbar_visible="a,d,i"/>
                </header>
                <sheet>
                    <field name="photo" widget="image" class="oe_avatar" options="{'preview_image': 'photo', 'size': [128, 128]}"/>
                    <div class="oe_title mb24">
                        <h1>
                            <field name="web_name" class="text-break" default_focus="1"/>
                        </h1>
                        <div class="o_row me-3">
                            <field name="display_name"/>
                        </div>
                        <div class="o_row mt-2">
                            <field name="element_type_id" invisible="1"/>
                            <field name="plural_name" class="me-3"/>
                            <field name="fpl_team_id" class="me-3" string="Team"/>
                            <span class="badge bg-primary">#
                                <field name="squad_number"/>
                            </span>
                        </div>
                    </div>

                    <group string="Basic Information">
                        <group>
                            <field name="element_id" invisible="1"/>
                            <field name="code" invisible="1"/>
                            <field name="birth_date"/>
                            <field name="team_join_date"/>
                            <field name="region" invisible="1"/>
                            <field name="country_id" options="{'no_open': True}"/>
                            <field name="can_select"/>
                            <field name="can_transact"/>
                        </group>
                        <group>
                            <field name="currency_id" invisible="1"/>
                            <field name="now_cost" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="selected_by_percent" string="Selected By Percent (%)"/>
                            <field name="special"/>
                        </group>
                    </group>

                    <group string="Performance Statistics">
                        <group>
                            <field name="total_points"/>
                            <field name="event_points"/>
                            <field name="points_per_game"/>
                            <field name="form"/>
                            <field name="dreamteam_count"/>
                            <field name="in_dreamteam"/>
                        </group>
                        <group>
                            <field name="minutes"/>
                            <field name="starts"/>
                            <field name="goals_scored"/>
                            <field name="assists"/>
                            <field name="clean_sheets"/>
                            <field name="goals_conceded"/>
                        </group>
                    </group>

                    <group string="Disciplinary">
                        <group>
                            <field name="yellow_cards"/>
                            <field name="red_cards"/>
                            <field name="own_goals"/>
                        </group>
                        <group>
                            <field name="penalties_saved"/>
                            <field name="penalties_missed"/>
                            <field name="saves"/>
                        </group>
                    </group>

                    <group string="Advanced Stats">
                        <group>
                            <field name="bonus"/>
                            <field name="bps"/>
                            <field name="influence"/>
                            <field name="creativity"/>
                            <field name="threat"/>
                            <field name="ict_index"/>
                        </group>
                        <group>
                            <field name="expected_goals"/>
                            <field name="expected_assists"/>
                            <field name="expected_goal_involvements"/>
                            <field name="expected_goals_conceded"/>
                        </group>
                    </group>

                    <group string="Defensive Stats">
                        <group>
                            <field name="tackles"/>
                            <field name="recoveries"/>
                            <field name="clearances_blocks_interceptions"/>
                            <field name="defensive_contribution"/>
                        </group>
                    </group>

                    <group string="Cost Changes">
                        <group>
                            <field name="cost_change_event"/>
                            <field name="cost_change_event_fall"/>
                        </group>
                        <group>
                            <field name="cost_change_start"/>
                            <field name="cost_change_start_fall"/>
                        </group>
                    </group>

                    <group string="Transfer Information">
                        <group>
                            <field name="transfers_in"/>
                            <field name="transfers_in_event"/>
                        </group>
                        <group>
                            <field name="transfers_out"/>
                            <field name="transfers_out_event"/>
                        </group>
                    </group>

                    <group string="Set Pieces">
                        <group>
                            <field name="corners_and_indirect_freekicks_order"/>
                            <field name="corners_and_indirect_freekicks_text"/>
                            <field name="direct_freekicks_order"/>
                            <field name="direct_freekicks_text"/>
                        </group>
                        <group>
                            <field name="penalties_order"/>
                            <field name="penalties_text"/>
                        </group>
                    </group>

                    <group string="Per 90 Minutes Stats">
                        <group>
                            <field name="expected_goals_per_90"/>
                            <field name="expected_assists_per_90"/>
                            <field name="expected_goal_involvements_per_90"/>
                            <field name="starts_per_90"/>
                        </group>
                        <group>
                            <field name="saves_per_90"/>
                            <field name="expected_goals_conceded_per_90"/>
                            <field name="goals_conceded_per_90"/>
                            <field name="clean_sheets_per_90"/>
                            <field name="defensive_contribution_per_90"/>
                        </group>
                    </group>

                    <group string="Rankings">
                        <group>
                            <field name="influence_rank"/>
                            <field name="influence_rank_type"/>
                            <field name="creativity_rank"/>
                            <field name="creativity_rank_type"/>
                            <field name="threat_rank"/>
                            <field name="threat_rank_type"/>
                        </group>
                        <group>
                            <field name="ict_index_rank"/>
                            <field name="ict_index_rank_type"/>
                            <field name="now_cost_rank"/>
                            <field name="now_cost_rank_type"/>
                            <field name="form_rank"/>
                            <field name="form_rank_type"/>
                        </group>
                    </group>

                    <group string="Availability">
                        <group>
                            <field name="chance_of_playing_this_round"/>
                            <field name="chance_of_playing_next_round"/>
                        </group>
                        <group>
                            <field name="ep_this"/>
                            <field name="ep_next"/>
                        </group>
                    </group>

                    <group string="Additional Information">
                        <group>
                            <field name="news"/>
                            <field name="news_added"/>
                            <field name="value_form"/>
                            <field name="value_season"/>
                        </group>
                        <group>
                            <field name="opta_code"/>
                            <field name="has_temporary_code"/>
                            <field name="removed"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="fpl_elements_view_search" model="ir.ui.view">
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <search string="Filters">
                <field name="web_name"/>
                <field name="first_name"/>
                <field name="second_name"/>
                <separator string="Price"/>
                <filter string="14.5" name="now_cost" domain="[('now_cost', '&lt;=', 14.5)]"/>
                <filter string="14.0" name="now_cost" domain="[('now_cost', '&lt;=', 14.0)]"/>
                <filter string="13.5" name="now_cost" domain="[('now_cost', '&lt;=', 13.5)]"/>
                <filter string="13.0" name="now_cost" domain="[('now_cost', '&lt;=', 13.0)]"/>
                <filter string="12.5" name="now_cost" domain="[('now_cost', '&lt;=', 12.5)]"/>
                <filter string="12.0" name="now_cost" domain="[('now_cost', '&lt;=', 12.0)]"/>
                <filter string="11.5" name="now_cost" domain="[('now_cost', '&lt;=', 11.5)]"/>
                <filter string="11.0" name="now_cost" domain="[('now_cost', '&lt;=', 11.0)]"/>
                <filter string="10.5" name="now_cost" domain="[('now_cost', '&lt;=', 10.5)]"/>
                <filter string="10.0" name="now_cost" domain="[('now_cost', '&lt;=', 10.0)]"/>
                <filter string="9.5" name="now_cost" domain="[('now_cost', '&lt;=', 9.5)]"/>
                <filter string="9.0" name="now_cost" domain="[('now_cost', '&lt;=', 9.0)]"/>
                <filter string="8.5" name="now_cost" domain="[('now_cost', '&lt;=', 8.5)]"/>
                <filter string="8.0" name="now_cost" domain="[('now_cost', '&lt;=', 8.0)]"/>
                <filter string="7.5" name="now_cost" domain="[('now_cost', '&lt;=', 7.5)]"/>
                <filter string="7.0" name="now_cost" domain="[('now_cost', '&lt;=', 7.0)]"/>
                <filter string="6.5" name="now_cost" domain="[('now_cost', '&lt;=', 6.5)]"/>
                <filter string="6.0" name="now_cost" domain="[('now_cost', '&lt;=', 6.0)]"/>
                <filter string="5.5" name="now_cost" domain="[('now_cost', '&lt;=', 5.5)]"/>
                <filter string="5.0" name="now_cost" domain="[('now_cost', '&lt;=', 5.0)]"/>
                <filter string="4.5" name="now_cost" domain="[('now_cost', '&lt;=', 4.5)]"/>
                <filter string="4.0" name="now_cost" domain="[('now_cost', '&lt;=', 4.0)]"/>
                <group expand="0" string="Group By">
                    <filter string="Team" name="fpl_team_id" domain="[]" context="{'group_by':'fpl_team_id'}"/>
                    <filter string="Position" name="element_type_id" domain="[]" context="{'group_by':'element_type_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="fpl_elements_top_scorers_view_tree" model="ir.ui.view">
        <field name="name">fpl.elements.top_scorers.tree</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <list create="0" edit="0" delete="0" default_order="goals_scored desc">
                <field name="photo" widget="image" options="{'size': [40, 40]}" class="oe_avatar" string=""/>
                <field name="web_name" string="Player"/>
                <field name="first_name" optional="hide"/>
                <field name="second_name" optional="hide"/>
                <field name="element_type_id" string="Position"/>
                <field name="fpl_team_id" string="Team"/>
                <field name="goals_scored"/>
                <field name="minutes" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="fpl_elements_top_view_search" model="ir.ui.view">
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <search string="Filters">
                <field name="web_name"/>
                <field name="first_name"/>
                <field name="second_name"/>
            </search>
        </field>
    </record>

    <record id="fpl_elements_top_assists_view_tree" model="ir.ui.view">
        <field name="name">fpl.elements.top_assists.tree</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <list create="0" edit="0" delete="0" default_order="assists desc">
                <field name="photo" widget="image" options="{'size': [40, 40]}" class="oe_avatar" string=""/>
                <field name="web_name" string="Player"/>
                <field name="first_name" optional="hide"/>
                <field name="second_name" optional="hide"/>
                <field name="element_type_id" string="Position"/>
                <field name="fpl_team_id" string="Team"/>
                <field name="assists"/>
                <field name="minutes" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="fpl_elements_view_action" model="ir.actions.act_window">
        <field name="name">FPL Elements</field>
        <field name="res_model">fpl.elements</field>
        <field name="view_mode">kanban,list,form</field>
    </record>

    <record id="fpl_elements_summary_view_tree" model="ir.ui.view">
        <field name="name">fpl.elements.summary.tree</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <list create="0" edit="0" delete="0" default_order="total_points desc">
                <field name="photo" widget="image" options="{'size': [40, 40]}" class="oe_avatar" string=""/>
                <field name="summary_name_form" string="Player"/>
                <field name="now_cost" string="Cost"/>
                <field name="selected_by_percent" string="Sel.%"/>
                <field name="form" string="Form"/>
                <field name="total_points" string="Pts"/>
            </list>
        </field>
    </record>

    <record id="fpl_elements_summary_view_form" model="ir.ui.view">
        <field name="name">fpl.elements.summary.form</field>
        <field name="model">fpl.elements</field>
        <field name="arch" type="xml">
            <form delete="0" create="0" edit="0">
                <sheet>
                    <div style="background-image: url(/fantasy_premier_league/static/src/img/pattern.png), linear-gradient(90deg, #05f0ff 0%, #953bff 100%); background-repeat: no-repeat; background-size: 147px 216px, auto; background-position: left -9.6px top -40.8px, 0 0;">
                        <div class="d-flex" style="border-radius 16px;">
                            <div>
                                <field name="photo" widget="image"/>
                            </div>
                            <div style="display: flex; flex-direction: column; justify-content: center; gap: 8px; padding: 12px; margin-left: 18px">
                                <div>
                                    <field name="plural_name" style="color: #37003c; font-size: 22px;"/>
                                </div>
                                <h1>
                                    <div>
                                        <field name="first_name" style="font-size: 18px;"/>
                                    </div>
                                    <div>
                                        <field name="second_name" style="font-size: 30px;"/>
                                    </div>
                                </h1>
                                <h5 style="color: #000; font-size: 18px;">
                                    <field name="fpl_team_id" options="{'no_open': True}"/>
                                </h5>
                            </div>
                        </div>
                    </div>
                    <group string="Summary">
                        <group>
                            <field name="now_cost" string="Price" widget="monetary"/>
                            <field name="form"/>
                            <field name="points_per_game" string="Pts/Match"/>
                            <field name="event_points" string="Previous GW Pts"/>
                        </group>

                        <group>
                            <field name="total_points" string="Total Pts"/>
                            <field name="bonus" string="Total Bonus"/>
                            <field name="ict_index" string="ICT index"/>
                            <field name="selected_by_percent" string="TSB %"/>
                        </group>
                    </group>

                    <group string="Form">
                        <notebook>
                            <page string="History">
                                <group string="This Season">
                                    <field name="history_ids" widget="one2many" readonly="1" nolabel="1">
                                        <list default_order="round desc">
                                            <field name="round" string="GW"/>
                                            <field name="opponent_team" column_invisible="1"/>
                                            <field name="opponent_team_display" string="OPP"/>
                                            <field name="total_points" string="PTS" sum="Total Points"/>
                                            <field name="starts" string="ST" sum="Total Game(s) Started"/>
                                            <field name="minutes" string="MP" sum="Total Minutes Played"/>
                                            <field name="goals_scored" string="GS" sum="Total Goals Scored"/>
                                            <field name="assists" string="A" sum="Total Assists"/>
                                            <field name="expected_goals" string="xG" sum="Total Expected Goals"/>
                                            <field name="expected_assists" string="xA" sum="Total Expected Assists"/>
                                            <field name="expected_goal_involvements" string="xGl" sum="Total Expected Goal Involvements"/>
                                            <field name="clean_sheets" string="CS" sum="Total Clean Sheets"/>
                                            <field name="goals_conceded" string="GS" sum="Total Goals Conceded"/>
                                            <field name="tackles" string="T" sum="Total Tackles"/>
                                            <field name="clearances_blocks_interceptions" string="CBI" sum="Total Clearances Blocks Interceptions"/>
                                            <field name="recoveries" string="R" sum="Total Recoveries"/>
                                            <field name="defensive_contribution" string="DC" sum="Total Defensive Contribution"/>
                                            <field name="own_goals" string="OG" sum="Total Own Goals"/>
                                            <field name="penalties_saved" string="PS" sum="Total Penalties Saved"/>
                                            <field name="penalties_missed" string="PM" sum="Total Penalties Missed"/>
                                            <field name="yellow_cards" string="YC" sum="Total Yellow Cards"/>
                                            <field name="red_cards" string="RC" sum="Total Red Cards"/>
                                            <field name="saves" string="S" sum="Total Saves"/>
                                            <field name="bonus" string="B" sum="Total Bonus"/>
                                            <field name="bps" string="BPS" sum="Total BPS"/>
                                            <field name="influence" string="I" sum="Total Influence"/>
                                            <field name="creativity" string="C" sum="Total Creativity"/>
                                            <field name="threat" string="T" sum="Total Threat"/>
                                            <field name="ict_index" string="II" sum="Total ICT Index"/>
                                            <field name="selected" string="TSB" sum="Total TSB"/>
                                            <field name="transfers_balance" string="TB" sum="Total Transfers Balance"/>
                                            <field name="value" string="£" widget="monetary" sum="Total Value"/>
                                            <field name="currency_id" column_invisible="1"/>
                                        </list>
                                    </field>
                                </group>

                                <group string="Previous Season">
                                    <field name="history_past_ids" widget="one2many" readonly="1" nolabel="1">
                                        <list>
                                            <field name="season_name" string="Season"/>
                                            <field name="total_points" string="PTS"/>
                                            <field name="starts" string="ST"/>
                                            <field name="minutes" string="MP"/>
                                            <field name="goals_scored" string="GS"/>
                                            <field name="assists" string="A"/>
                                            <field name="expected_goals" string="xG"/>
                                            <field name="expected_assists" string="xA"/>
                                            <field name="expected_goal_involvements" string="xGl"/>
                                            <field name="clean_sheets" string="CS"/>
                                            <field name="goals_conceded" string="GS"/>
                                            <field name="tackles" string="T"/>
                                            <field name="clearances_blocks_interceptions" string="CBI"/>
                                            <field name="recoveries" string="R"/>
                                            <field name="defensive_contribution" string="DC"/>
                                            <field name="own_goals" string="OG"/>
                                            <field name="penalties_saved" string="PS"/>
                                            <field name="penalties_missed" string="PM"/>
                                            <field name="yellow_cards" string="YC"/>
                                            <field name="red_cards" string="RC"/>
                                            <field name="saves" string="S"/>
                                            <field name="bonus" string="B"/>
                                            <field name="bps" string="BPS"/>
                                            <field name="influence" string="I"/>
                                            <field name="creativity" string="C"/>
                                            <field name="threat" string="T"/>
                                            <field name="ict_index" string="II"/>
                                            <field name="start_cost" widget="monetary" string="£S"/>
                                            <field name="end_cost" widget="monetary" string="£E"/>
                                            <field name="currency_id" column_invisible="1"/>
                                        </list>
                                    </field>
                                </group>
                            </page>

                            <page string="Fixutres">
                                <field name="fixutres_ids" widget="one2many" readonly="1" nolabel="1">
                                    <list>
                                        <field name="kickoff_time" string="Date"/>
                                        <field name="gameweek" string="GW"/>
                                        <field name="opponent_team_display" string="OPP"/>
                                        <field name="difficulty" string="FDR" widget="badge"
                                               decoration-success="difficulty < 3"
                                               decoration-info="difficulty == 3"
                                               decoration-danger="difficulty > 3"
                                        />
                                    </list>
                                </field>
                            </page>
                        </notebook>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="fpl_elements_summary_view_action" model="ir.actions.act_window">
        <field name="name">FPL Elements Summary</field>
        <field name="res_model">fpl.elements</field>
        <field name="search_view_id" ref="fantasy_premier_league.fpl_elements_view_search"/>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'list', 'view_id': ref('fantasy_premier_league.fpl_elements_summary_view_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('fantasy_premier_league.fpl_elements_summary_view_form')})]"/>
        <field name="view_mode">list,form</field>
    </record>

    <record id="fpl_elements_top_scorers_view_action" model="ir.actions.act_window">
        <field name="name">Top Scorers</field>
        <field name="res_model">fpl.elements</field>
        <field name="view_mode">list</field>
        <field name="view_id" ref="fantasy_premier_league.fpl_elements_top_scorers_view_tree"/>
        <field name="search_view_id" ref="fantasy_premier_league.fpl_elements_top_view_search"/>
        <field name="domain">[('goals_scored', '&gt;', 0)]</field>
    </record>

    <record id="fpl_elements_top_assists_view_action" model="ir.actions.act_window">
        <field name="name">Top Assists</field>
        <field name="res_model">fpl.elements</field>
        <field name="view_mode">list</field>
        <field name="view_id" ref="fantasy_premier_league.fpl_elements_top_assists_view_tree"/>
        <field name="search_view_id" ref="fantasy_premier_league.fpl_elements_top_view_search"/>
        <field name="domain">[('assists', '&gt;', 0)]</field>
    </record>
</odoo>