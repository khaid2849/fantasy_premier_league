<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="fpl_gameweek_pick_lines_hierarchy_view" model="ir.ui.view">
        <field name="name">fpl.gameweek.pick.lines.view.hierarchy</field>
        <field name="model">fpl.gameweek.pick.lines</field>
        <field name="arch" type="xml">
            <hierarchy child_field="child_ids" icon="fa-futbol-o" draggable="0" create="0" edit="0" delete="0">
                <field name="element_id"/>
                <field name="position"/>
                <field name="multiplier"/>
                <field name="is_captain"/>
                <field name="is_vice_captain"/>
                <field name="element_type_id"/>
                <field name="team_id"/>
                <templates>
                    <t t-name="hierarchy-box">
                        <div class="o_fpl_player_card shadow-sm">
                            <div class="o_fpl_badges_container">
                                <div t-if="record.is_captain.raw_value" class="o_fpl_badge o_fpl_captain_badge">
                                    <i class="fa fa-star text-warning"/> C
                                </div>
                                <div t-if="record.is_vice_captain.raw_value" class="o_fpl_badge o_fpl_vice_badge">
                                    <i class="fa fa-star-half-o text-secondary"/> VC
                                </div>
                            </div>
                            
                            <div class="o_fpl_photo_container text-center mb-2">
                                <div class="o_fpl_player_photo">
                                    <img t-if="record.element_id.value and record.element_id.raw_value.photo" 
                                         t-attf-src="data:image/png;base64,#{record.element_id.raw_value.photo}"
                                         class="o_fpl_player_image rounded-circle"/>
                                    <div t-else="" class="o_fpl_placeholder_photo rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="fa fa-user fa-2x text-muted"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Player Info -->
                            <div class="o_fpl_player_info text-center">
                                <div class="o_fpl_player_name fw-bold text-dark mb-1">
                                    <field name="element_id" invisible="1"/>
                                    <field name="web_name"/>
                                </div>
                                
                                <!-- Team Badge -->
                                <div class="o_fpl_team_position d-flex align-items-center justify-content-center mb-2">
                                    <span class="o_fpl_team_code badge me-1"
                                          t-attf-style="background-color: #6c757d;">
                                        <field name="team_id" invisible="1"/>
                                        <field name="team_name"/>
                                    </span>
                                    <span class="o_fpl_position_badge badge bg-info">
                                        <field name="element_type_id" invisible="1"/>
                                        <field name="plural_name_short"/>
                                    </span>
                                </div>
                                
                                <!-- Additional Info -->
                                <div class="o_fpl_additional_info small text-muted">
                                    <div t-if="record.element_id.raw_value and record.element_id.raw_value.now_cost" 
                                         class="o_fpl_cost">
                                        Â£<span t-esc="record.element_id.raw_value.now_cost / 10"/>m
                                    </div>
                                    <div t-if="record.element_id.raw_value and record.element_id.raw_value.total_points" 
                                         class="o_fpl_points">
                                        <i class="fa fa-trophy text-warning"/> 
                                        <span t-esc="record.element_id.raw_value.total_points"/> pts
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </hierarchy>
        </field>
    </record>

    <record id="fpl_gameweek_pick_lines_view_action" model="ir.actions.act_window">
        <field name="name">Gameweek picks</field>
        <field name="res_model">fpl.gameweek.pick.lines</field>
        <field name="view_mode">hierarchy</field>
    </record>

</odoo>